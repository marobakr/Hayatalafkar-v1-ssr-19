<section class="contact-section">
  <div class="container mx-auto">
    <h1 class="sr-only">{{ "contact-us.heading" | translate }}</h1>

    <!-- Header Map -->
    <figure class="mb-[60px]">
      <img
        class="w-full h-auto"
        loading="lazy"
        width="1200"
        height="600"
        src="/images/contact-us/map.webp"
        alt="{{ 'contact-us.map-alt' | translate }}"
      />
    </figure>

    <!-- Contact Us Form -->
    <div class="mb-15">
      <div class="grid grid-cols-12 gap-4">
        <div class="col-span-12 lg:col-span-8">
          <!-- Left Section: Form -->
          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
            <!-- Full Name  -->
            <div
              class="flex justify-between items-center gap-x-[23px] mb-[44px]"
            >
              <!-- Name  -->
              <div class="flex-grow-1 w-full">
                <label
                  for="name"
                  class="block relative text-subtitle-size font-bold mb-[23px] after:absolute after:content-['*'] after:-top-[6px] ltr:after:right-0 rtl:after:left-0 w-fit after:text-muted-rose after:transform after:translate-x-full rtl:after:-translate-x-full after:font-bold after:text-start-size"
                >
                  {{ "contact-us.form.first-name" | translate }}
                </label>
                <input
                  type="text"
                  id="name"
                  formControlName="name"
                  class="bg-white border border-[#8D8D8D] rounded-[15px] rtl:pr-4 ltr:pl-4 py-[18px] w-full {{
                    getControlClass('name')
                  }}"
                  [placeholder]="
                    'contact-us.form.placeholder-first-name' | translate
                  "
                  autocomplete="name"
                  aria-required="true"
                />
                @if (contactForm.get('name')?.touched &&
                contactForm.get('name')?.errors) {
                <div class="text-red-500 text-sm mt-1" aria-live="polite">
                  @if (contactForm.get('name')?.errors?.['required']) {
                  <span>{{ "validation.name-required" | translate }}</span>
                  } @else if (contactForm.get('name')?.errors?.['minlength']) {
                  <span>{{ "validation.name-min-length" | translate }}</span>
                  }
                </div>
                }
              </div>
            </div>

            <!-- Phone Number -->
            <div class="mb-[41px]">
              <label
                for="phone"
                class="block relative text-subtitle-size font-bold mb-[23px] after:absolute after:content-['*'] after:-top-[6px] ltr:after:right-0 rtl:after:left-0 w-fit after:text-muted-rose after:transform after:translate-x-full rtl:after:-translate-x-full after:font-bold after:text-start-size"
              >
                {{ "contact-us.form.phone-number" | translate }}
              </label>
              <input
                type="tel"
                id="phone"
                formControlName="phone"
                class="bg-white border border-[#8D8D8D] rounded-[15px] rtl:pr-4 ltr:pl-4 py-[18px] w-full rtl:text-right ltr:text-left {{
                  getControlClass('phone')
                }}"
                [placeholder]="
                  'contact-us.form.placeholder-phone-number' | translate
                "
                autocomplete="tel"
                aria-required="true"
              />
              @if (contactForm.get('phone')?.touched &&
              contactForm.get('phone')?.errors) {
              <div class="text-red-500 text-sm mt-1" aria-live="polite">
                @if (contactForm.get('phone')?.errors?.['required']) {
                <span>{{ "validation.phone-required" | translate }}</span>
                } @else if (contactForm.get('phone')?.errors?.['pattern']) {
                <span>{{ "validation.phone-format" | translate }}</span>
                }
              </div>
              }
            </div>

            <!-- Email -->
            <div class="mb-[41px]">
              <label
                for="email"
                class="block relative text-subtitle-size font-bold mb-[23px] after:absolute after:content-['*'] after:-top-[6px] ltr:after:right-0 rtl:after:left-0 w-fit after:text-muted-rose after:transform after:translate-x-full rtl:after:-translate-x-full after:font-bold after:text-start-size"
              >
                {{ "contact-us.form.email" | translate }}
              </label>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="bg-white border border-[#8D8D8D] rounded-[15px] rtl:pr-4 ltr:pl-4 py-[18px] w-full {{
                  getControlClass('email')
                }}"
                [placeholder]="'contact-us.form.placeholder-email' | translate"
                autocomplete="email"
                aria-required="true"
              />
              @if (contactForm.get('email')?.touched &&
              contactForm.get('email')?.errors) {
              <div class="text-red-500 text-sm mt-1" aria-live="polite">
                @if (contactForm.get('email')?.errors?.['required']) {
                <span>{{ "validation.email-required" | translate }}</span>
                } @else if (contactForm.get('email')?.errors?.['email']) {
                <span>{{ "validation.email-format" | translate }}</span>
                }
              </div>
              }
            </div>

            <!-- Your Msg -->
            <div class="mb-[41px]">
              <label
                for="message"
                class="block relative text-subtitle-size font-bold mb-[23px] after:absolute after:content-['*'] after:-top-[6px] ltr:after:right-0 rtl:after:left-0 w-fit after:text-muted-rose after:transform after:translate-x-full rtl:after:-translate-x-full after:font-bold after:text-start-size"
              >
                {{ "contact-us.form.your-msg" | translate }}
              </label>

              <textarea
                id="message"
                rows="4"
                formControlName="message"
                class="bg-white border border-[#8D8D8D] rounded-[15px] rtl:pr-4 ltr:pl-4 py-[18px] w-full min-h-[250px] {{
                  getControlClass('message')
                }}"
                [placeholder]="
                  'contact-us.form.placeholder-your-msg' | translate
                "
                aria-required="true"
              ></textarea>
              @if (contactForm.get('message')?.touched &&
              contactForm.get('message')?.errors) {
              <div class="text-red-500 text-sm mt-1" aria-live="polite">
                @if (contactForm.get('message')?.errors?.['required']) {
                <span>{{ "validation.your-msg-required" | translate }}</span>
                } @else if (contactForm.get('message')?.errors?.['minlength']) {
                <span>{{ "validation.your-msg-min-length" | translate }}</span>
                }
              </div>
              }
            </div>

            <app-arrow-button
              [gap]="'5px'"
              [px]="'4'"
              [py]="'2'"
              [title]="
                (isSubmitting() ? 'common.sending' : 'form.send') | translate
              "
              [type]="'submit'"
              [bg]="'[#C9A888]'"
              [border]="'[#C9A888]'"
              [color]="'white'"
              [image]="'/images/common/white-arrow.svg'"
              [disabled]="isSubmitting()"
              [attr.aria-busy]="isSubmitting()"
            >
            </app-arrow-button>
          </form>
        </div>
        <div class="hidden lg:block lg:col-span-4">
          <figure>
            <img
              class="w-full h-auto"
              loading="lazy"
              width="400"
              height="600"
              src="/images/contact-us/1.webp"
              alt="{{ 'contact-us.contact-image-alt' | translate }}"
            />
          </figure>
        </div>
      </div>
    </div>

    <!-- Contact Cards Details -->
    @if (contactUs()) {
    <div class="grid md:grid-cols-12 gap-[30px]">
      <!-- Maps Cards -->
      <div class="md:col-span-6 lg:col-span-4">
        <div class="border border-[#8D8D8D] rounded-[15px] text-center">
          <figure
            class="mt-[30px] rounded-full bg-warm-tan p-[18px] w-fit mx-auto"
          >
            <img
              loading="lazy"
              width="30"
              height="30"
              class="max-w-[30px]"
              src="/images/contact-us/maps.webp"
              alt="{{ 'contact-us.cards.maps-card.alt' | translate }}"
            />
          </figure>

          <h3
            class="mt-[27px] text-black text-subtitle-size font-bold capitalize"
          >
            {{ "contact-us.cards.maps-card.title" | translate }}
          </h3>

          <p class="text-[#333] text-category-size font-light mt-5 mb-[55px]">
            {{ "contact-us.cards.maps-card.subTitle" | translate }}
          </p>
        </div>
      </div>

      <!-- Call Cards -->
      <div class="md:col-span-6 lg:col-span-4">
        <div class="border border-[#8D8D8D] rounded-[15px] text-center">
          <figure
            class="mt-[30px] rounded-full bg-warm-tan p-[18px] w-fit mx-auto"
          >
            <img
              loading="lazy"
              width="30"
              height="30"
              class="max-w-[30px]"
              src="/images/contact-us/call.webp"
              alt="{{ 'contact-us.cards.call-card.alt' | translate }}"
            />
          </figure>

          <h3
            class="mt-[27px] text-black text-subtitle-size font-bold capitalize"
          >
            {{ "contact-us.cards.call-card.title" | translate }}
          </h3>

          <address
            class="text-[#333] text-category-size font-light mt-5 mb-[55px] not-italic"
          >
            {{
              contactUs().phone || "contact-us.cards.call-card.subTitle"
                | translate
            }}
          </address>
        </div>
      </div>

      <!-- Msg Cards -->
      <div class="md:col-span-6 lg:col-span-4">
        <div class="border border-[#8D8D8D] rounded-[15px] text-center">
          <figure
            class="mt-[30px] rounded-full bg-warm-tan p-[18px] w-fit mx-auto"
          >
            <img
              loading="lazy"
              width="30"
              height="30"
              class="max-w-[30px]"
              src="/images/contact-us/msg.webp"
              alt="{{ 'contact-us.cards.msg-card.alt' | translate }}"
            />
          </figure>

          <h3
            class="mt-[27px] text-black text-subtitle-size font-bold capitalize"
          >
            {{ "contact-us.cards.msg-card.title" | translate }}
          </h3>

          <address
            class="text-[#333] text-category-size font-light mt-5 mb-[55px] not-italic"
          >
            {{ contactUs().email || "example@gmail.com" }}
          </address>
        </div>
      </div>
    </div>
    }
  </div>

  @if (breaks().length > 0) {
  <app-banner
    [showLeftSideImage]="true"
    [showRightSideImage]="true"
    [bannerText]="breaks()[breaks().length - 1] | customTranslate : 'name'"
  ></app-banner>
  }

  <div class="container mx-auto">
    <!-- Service Features Section -->
    <section aria-labelledby="service-features" class="py-8">
      <h2 id="service-features" class="sr-only">
        {{ "contact-us.services.heading" | translate }}
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 p-6">
        @for (feature of features() | customTranslate; track feature.id) {
        <app-service-card
          [cardDescription]="feature.text"
          [cardImagePath]="API_CONFIG + 'uploads/about/' + feature.icon_image"
          [cardTitle]="feature.title"
          [isCenter]="true"
        ></app-service-card>
        }
      </div>
    </section>
  </div>
</section>
