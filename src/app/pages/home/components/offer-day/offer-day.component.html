<section class="px-4">
  <div class="container mx-auto">
    <p class="text-black text-subtitle-size mb-6 text-center">
      {{ "offer-day.title" | translate }}
    </p>
    <h2 class="text-title-size font-bold mb-9 text-center">
      {{ "offer-day.altTitle" | translate }}
      <span class="text-muted-rose">
        {{ "offer-day.subtitle" | translate }}
      </span>
    </h2>
    <!-- Cards Container -->
    <div class="grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-6 mb-[45px]">
      @for (randomProduct of randomProducts; track $index) {

      <!-- Card 1 -->
      <div
        class="flex flex-col md:flex-row bg-white rounded-2xl shadow-md overflow-hidden p-4 gap-4"
      >
        <!-- Image with discount badge -->
        <div class="relative rounded-2xl overflow-hidden">
          <img
            loading="lazy"
            [appImageUrl]="randomProduct.main_image"
            [imageEndpoint]="'uploads/products'"
            alt="product"
            class="w-full md:max-w-[220px] h-full"
          />
          <span
            class="absolute top-[7px] right-[7px] bg-[#434645] text-white py-4 px-8 rounded-full text-category-size"
          >
            {{ +randomProduct.sale_price / 100 | percent : "0.0" }}
          </span>
        </div>

        <!-- Content -->
        <div class="flex flex-col justify-between flex-shrink-10">
          <div>
            <p class="text-[#333] text-category-size mb-[15px]">
              {{ randomProduct | customTranslate : "name" }}
            </p>
            <h3 class="text-[18px] font-bold mb-[15px]">
              <app-safe-html
                [content]="randomProduct | customTranslate : 'description'"
              ></app-safe-html>
            </h3>
            <div class="flex items-center text-subtitle-size gap-7 mb-[20px]">
              <span class="text-muted-rose">
                {{ randomProduct.price_after_sale }}

                {{ "shared.currency" | translate }}</span
              >
              <span class="line-through text-black">
                {{ randomProduct.price }}

                {{ "shared.currency" | translate }}</span
              >
            </div>
            <p class="text-category-size text-[#333] mt-5 leading-5">
              <app-safe-html
                [content]="randomProduct | customTranslate : 'more_information'"
              ></app-safe-html>
            </p>
          </div>
          <a
            href="#"
            class="text-muted-rose text-description-size font-bold mt-4 flex items-center gap-[1px]"
          >
            <span>
              {{ "shared.shopping_now" | translate }}
            </span>
            <figure>
              <img
                loading="lazy"
                class="ltr:rotate-180 rtl:rotate-0"
                src="/images/offer-day/4.svg"
                alt=""
              />
            </figure>
          </a>
        </div>
      </div>
      }
    </div>

    <!-- offer-day Container -->
    <div
      class="relative bg-warm-tan rounded-xl z-10 overflow-hidden flex flex-col-reverse lg:flex-row-reverse items-end justify-between pr-6 gap-8"
    >
      <!-- Image Section -->
      <div class="w-full lg:w-1/2 relative z-10">
        <!-- Background Image -->
        @if (_languageService.getIsArabic()) {
        <div class="absolute top-[10px] ltr:right-[10px] rtl:left-[10px]">
          <figure>
            <img
              loading="lazy"
              src="/images/offer-day/5.png"
              alt="خلفية"
              class="max-w-[346px]"
            />
          </figure>
        </div>
        }

        <!-- Foreground Image -->
        <div
          class="relative z-10 ltr:rotate-y-180 ltr:right-[110px] xl:right-[115px]"
        >
          <figure>
            <img
              loading="lazy"
              [appImageUrl]="lastOffer.main_image"
              [imageEndpoint]="'uploads/offers'"
              alt="العناية بالنساء"
              class="w-full md:max-w-[533px]"
            />
          </figure>
        </div>
      </div>

      <!-- Text Content Section -->
      <div class="w-full lg:w-1/2 p-3 md:p-8 text-start relative z-10">
        <div
          iv
          class="text-category-size md:text-[28px] text-white mb-[10px] md:mb-[23px]"
        >
          {{ lastOffer | customTranslate : "title" }}
        </div>
        <h2
          class="text-category-size md:text-[38px] text-white font-bold leading-snug mb-[10px] md:mb-[23px]"
        >
          <p class="text-black">
            <app-safe-html
              [content]="lastOffer | customTranslate : 'samll_title'"
            ></app-safe-html>
          </p>
          <p>
            <app-safe-html
              [content]="lastOffer | customTranslate : 'text'"
            ></app-safe-html>
          </p>
        </h2>
        <p class="text-white text-category-size md:text-[28px] mb-5 md:mb-9">
          {{ "offer-day.text-content.paragraph" | translate }}
        </p>
        <app-arrow-button
          [gap]="'5px'"
          [px]="'4'"
          [py]="'2'"
          [title]="'shared.shopping_now' | translate"
          [type]="'button'"
          [bg]="'white'"
          [border]="'black'"
          [color]="'black'"
          [image]="'/images/navbar/9.webp'"
        ></app-arrow-button>
      </div>

      <div
        class="banner-container absolute top-0 left-0 w-full h-full bg-white"
      ></div>
    </div>
  </div>
</section>
